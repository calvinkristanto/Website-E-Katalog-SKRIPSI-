<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Catering Nien & Bakery</title>
  <link rel="icon" href="Foto/icon/icon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="allfornasikotak.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>
<body>
    <main class="content-container">
        
        <!-- SECTION: IMAGE SLIDER -->
        <section class="slider-section" aria-label="Menu Gallery">
            <div class="slider-container">
                <div class="slider">
                    <!-- Slide Items -->
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nasi Ayam Goreng.jpg" alt="Nasi Kotak Ayam Goreng">
                            <figcaption>Nasi Kotak Ayam Goreng<br><strong>IDR 22.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nasi Kotak.jpg" alt="Nasi Kotak">
                            <figcaption>Nasi Kotak<br><strong>IDR 20.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nasi Kotak Ayam Bakar.jpg" alt="Nasi Kotak Ayam Bakar">
                            <figcaption>Nasi Kotak Ayam Bakar<br><strong>IDR 23.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nasi Kotak (2).jpg" alt="Nasi Kotak">
                            <figcaption>Nasi Kotak<br><strong>IDR 20.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nasi Kotak Ayam Krispi.jpg" alt="Nasi Kotak Ayam Krispi">
                            <figcaption>Nasi Kotak Ayam Krispi<br><strong>IDR 22.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nasi Tumpeng.jpg" alt="Nasi Tumpeng">
                            <figcaption>Nasi Tumpeng<br><strong>IDR 30.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nasi Kotak Sate.jpg" alt="Nasi Kotak Sate">
                            <figcaption>Nasi Kotak Sate<br><strong>IDR 24.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Bolu Pisang Coklat.jpg" alt="Bolu Pisang Coklat">
                            <figcaption>Bolu Pisang Coklat<br><strong>IDR 5.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Sale Pisang.jpg" alt="Sale Pisang">
                            <figcaption>Sale Pisang<br><strong>IDR 3.000</strong></figcaption>
                        </figure>
                    </div>
                    
                    <div class="slide">
                        <figure>
                            <img src="Foto/Nasi Kotak/Catering Nien and Bakery/Nagasari.jpg" alt="Nagasari">
                            <figcaption>Nagasari<br><strong>IDR 3.000</strong></figcaption>
                        </figure>
                    </div>
                </div>

                <!-- Slider Navigation -->
                <div class="slider-buttons">
                    <button class="slider-btn prev" aria-label="Previous slide">❮</button>
                    <button class="slider-btn next" aria-label="Next slide">❯</button>
                </div>
            </div>
        </section>

          <!-- INFO TOKO -->
  <section class="info-box" aria-label="Informasi Warung">
    <!-- Jam Operasional -->
    <div class="hours">
      <div class="icons">
        <span class="material-symbols-outlined">calendar_today</span>
        <p>Hari: (Jika ada pesanan)</p>
      </div>
      <div class="icons">
        <span class="material-symbols-outlined">schedule</span>
        <p>Jam: (Jika ada pesanan)</p>
      </div>
    </div>

    <!-- Detail Produk -->
    <div class="description">
      <section class="product-details" aria-label="Detail Produk">
        <!-- Tab Navigasi -->
        <div class="tabs">
          <button class="tab-button active" data-tab="description">Deskripsi</button>
          <button class="tab-button" data-tab="review">Ulasan</button>
          <button class="tab-button" data-tab="shipping">Pengiriman</button>
        </div>
        <!-- Konten Tab: Deskripsi -->
        <div class="tab-content" id="description">
                            Nikmati aneka pilihan nasi kotak dan jajanan tradisional dari <strong>Catering Nien and Bakery</strong>!<br>
            Dengan bahan berkualitas dan cita rasa rumahan, cocok untuk berbagai acara seperti rapat, arisan, hingga hajatan.<br>
            Semua menu dikemas rapi, higienis, dan siap santap.<br><br>

            <strong>Pilihan Menu Favorit:</strong><br><br>

            <strong>- Nasi Kotak Ayam Goreng / Ayam Bakar / Ayam Krispi</strong><br>
            Dilengkapi nasi hangat, ayam berbumbu, sambal, dan pelengkap seperti telur atau lalapan. Gurih dan mengenyangkan!<br><br>

            <strong>- Nasi Kotak Sate</strong><br>
            Kombinasi sate ayam empuk, nasi pulen, dan sambal kacang yang lezat. Praktis namun tetap mewah.<br><br>

            <strong>- Nasi Tumpeng Mini</strong><br>
            Cocok untuk perayaan kecil, dengan tampilan menarik dan isi komplit: nasi kuning, ayam, telur, dan pelengkap.<br><br>

            <strong>- Bolu Pisang Coklat, Sale Pisang, Nagasari</strong><br>
            Pilihan kue tradisional untuk melengkapi pesanan Anda. Manis, legit, dan pas untuk camilan atau sajian tamu.<br>

        </div>

        <!-- Konten Tab: Ulasan -->
        <div class="tab-content" id="review" style="display: none;">
          <!-- Review Dummy -->
           <div class="review-item">
                <p><strong>Sarah</strong> ⭐⭐⭐⭐⭐</p>
                <p>Nasi kuningnya wangi dan gurih banget! Lauknya lengkap dan cocok buat sarapan keluarga.</p>
                </div>

                <div class="review-item">
                <p><strong>Doni</strong> ⭐⭐⭐⭐☆</p>
                <p>Nasi Tumpeng Mini tampilannya menarik dan rasanya enak. Cocok buat acara kecil. Pengiriman juga tepat waktu.</p>
                </div>

                <div class="review-item">
                <p><strong>Mira</strong> ⭐⭐⭐⭐⭐</p>
                <p>Bistik ayamnya empuk dan bumbunya meresap. Porsinya pas dan anak-anak di rumah suka banget!</p>
            </div>
                    

          <!-- Form Tambah Ulasan -->
          <div id="user-reviews"></div>
          <div class="add-review">
            <h4>Tambah Ulasan Anda</h4>
            <form id="review-form">
              <label for="review-name">Nama:</label><br />
              <input type="text" id="review-name" placeholder="Nama Anda" required /><br />

              <label for="review-rating">Rating:</label><br />
              <select id="review-rating" required>
                <option value="">Pilih Rating</option>
                <option value="5">⭐⭐⭐⭐⭐ - Sangat puas</option>
                <option value="4">⭐⭐⭐⭐ - Puas</option>
                <option value="3">⭐⭐⭐ - Cukup</option>
                <option value="2">⭐⭐ - Kurang</option>
                <option value="1">⭐ - Tidak suka</option>
              </select><br />

              <label for="review-message">Ulasan:</label><br />
              <textarea id="review-message" placeholder="Tulis ulasan Anda..." required></textarea><br />

              <button type="submit">Kirim</button>
            </form>
          </div>
        </div>

        <!-- Konten Tab: Pengiriman -->
        <div class="tab-content" id="shipping" style="display: none;">
          Praesent vestibulum congue tellus at fringilla. Curabitur vitae semper sem, eu convallis est. 
          Cras felis nunc commodo eu convallis vitae interdum non nisl. Maecenas ac est sit amet augue 
          pharetra convallis nec danos dui. Cras suscipit quam et turpis eleifend vitae malesuada magna 
          congue. Damus id ullamcorper neque. Sed vitae mi a mi pretium aliquet ac sed elit. Pellentesque 
          nulla eros accumsan quis justo at tincidunt lobortis denimes loremous. Suspendisse vestibulum 
          lectus in lectus volutpat, ut dapibus purus pulvinar. Vestibulum sit amet auctor ipsum.
        </div>
      </section>
    </div>
  </section>

    <!-- TOMBOL PESAN -->
    <p id="openOrderForm" style="
        cursor: pointer;
        font-weight: 600;
        font-size: 2 rem;
        color: white;
        background-color: orange;
        display: inline-block;
        padding: 26px 46px;
        border-radius: 6px;
        margin: 20px auto;
        transition: background-color 0.3s;
        text-align: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    ">Pesan</p>

    <!-- POPUP FORM PEMESANAN -->
        <div id="orderPopup" class="popup-overlay" style="display: none;" role="dialog" aria-modal="true">
                <div class="popup-content">
                    <h3>Pesan Sekarang - Multiple Item</h3>
                    
                    <button class="add-item-btn" onclick="addNewItem()">+ Tambah Item Baru</button>
                    
                    <div id="itemsContainer">
                        <!-- Items will be added here dynamically -->
                    </div>

                    <div class="order-summary">
                        <h4>Ringkasan Pesanan</h4>
                        <div id="summaryContent">
                            <div class="summary-item">
                                <span>Belum ada item</span>
                                <span>IDR 0</span>
                            </div>
                        </div>
                        <div class="summary-total">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Total Keseluruhan:</span>
                                <span id="grandTotal">IDR 0</span>
                            </div>
                        </div>
                    </div>

                    <div class="popup-buttons">
                        <button type="button" onclick="checkout()">Pesan Sekarang</button>
                        <button type="button" onclick="closeOrderForm()">Batal</button>
                    </div>
                </div>
            </div>

    <!-- Confirmation Popup -->
    <div id="confirmationPopup" class="popup-overlay" style="display: none;" role="dialog" aria-modal="true">
        <div class="confirmation-popup">
            <h3>Konfirmasi Pesanan</h3>
            <div id="confirmationContent"></div>
            <div class="popup-buttons">
                <button type="button" onclick="confirmOrder()">Ya, Pesan</button>
                <button type="button" onclick="closeConfirmation()">Batal</button>
            </div>
        </div>
    </div>


    <!-- WHATSAPP FLOATING BUTTON -->
    <div class="fab-container">
        <div class="fab-menu" id="fabMenu">
            <div class="menufab">
                <a href="https://wa.me/6281230110217" target="_blank" class="fab-item">
                    <img src="Foto/icon/whatsapp hijau.png" alt="WA" class="fab-logo">
                    <p>Admin 1 - Bu Emiliah</p>
                </a>
            </div>
    
            <div class="menufab">
                <a href="https://wa.me/6281252548695" target="_blank" class="fab-item">
                    <img src="Foto/icon/whatsapp hijau.png" alt="WA" class="fab-logo">
                    <p>Admin 2 - Bu Rika</p> 
                </a>
            </div>
    
            <div class="menufab">
                <a href="https://wa.me/6282331257449" target="_blank" class="fab-item">
                    <img src="Foto/icon/whatsapp hijau.png" alt="WA" class="fab-logo">
                    <p>Admin 3 - Bu Indrayani</p>
                </a>
            </div>
            

            <div class="menufab">
                <button class="fab-item" id="openMap">
                    <img src="Foto/icon/maps.png" alt="Map" class="fab-logo">
                    <p>Map</p>
                </button>
            </div>
            
            <!-- Modal untuk Google Maps -->
            <div id="mapContainer" class="map-overlay">
                <div class="map-content">
                    <iframe 
                        id="mapFrame"
                        src=""
                        width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy">
                    </iframe>
                    <button class="close-map" id="closeMap">✖</button>
                </div>
            </div>
            
        </div>
    
        <div class="fab-button" onclick="toggleMenu()">
            <img src="Foto/icon/whatsapp.png" alt="WhatsApp" class="fab-icon">
        </div>
    </div>

    
    
    <!-- KONFIRMASI PESANAN -->
    <div id="popup" class="popup-overlay" style="display:none;" role="dialog" aria-modal="true">
      <div class="popup-content">
        <h3>Konfirmasi Pesanan</h3>
        <p id="popupText"></p>
        <div class="popup-buttons">
          <button type="button" onclick="confirmOrder()">Pesan</button>
          <button type="button" onclick="closePopup()">Batal</button>
        </div>
      </div>
    </div>

    <noscript><p style="color:red;">Mohon aktifkan JavaScript untuk menggunakan fitur pemesanan.</p></noscript>
  </main>

  <!-- SCRIPT -->
  <script src="fabmap.js"></script>
  <script>
const hargaMenu = {
  "Nasi Kotak Ayam Goreng": 20000,
  "Nasi Kotak Ayam Bakar": 22000,
  "Nasi Kotak Ayam Krispi": 22000,
  "Nasi Kotak Sate": 23000,
  "Nasi Tumpeng": 100000,
  "Nasi Kotak": 18000,
  "Bolu Pisang Coklat": 8000,
  "Sale Pisang": 5000,
  "Nagasari": 4000
};

let itemCounter = 0;
let orderItems = [];

function addNewItem() {
  itemCounter++;
  const itemId = `item-${itemCounter}`;

  const itemHtml = `
    <div class="item-row" id="${itemId}">
      <button class="remove-item" onclick="removeItem('${itemId}')" title="Hapus item">×</button>
      
      <div class="form-group">
        <label>Pilih Menu:</label>
        <select onchange="updateItemPrice('${itemId}')">
          <option value="Nasi Kotak Ayam Goreng">Nasi Kotak Ayam Goreng - IDR 20,000</option>
          <option value="Nasi Kotak Ayam Bakar">Nasi Kotak Ayam Bakar - IDR 22,000</option>
          <option value="Nasi Kotak Ayam Krispi">Nasi Kotak Ayam Krispi - IDR 22,000</option>
          <option value="Nasi Kotak Sate">Nasi Kotak Sate - IDR 23,000</option>
          <option value="Nasi Tumpeng">Nasi Tumpeng - IDR 100,000</option>
          <option value="Nasi Kotak">Nasi Kotak - IDR 18,000</option>
          <option value="Bolu Pisang Coklat">Bolu Pisang Coklat - IDR 8,000</option>
          <option value="Sale Pisang">Sale Pisang - IDR 5,000</option>
          <option value="Nagasari">Nagasari - IDR 4,000</option>
        </select>
      </div>

      <div class="item-controls">
        <div class="form-group" style="flex: 1;">
          <label>Harga Satuan:</label>
          <input type="text" class="price-input" value="IDR 0" readonly />
        </div>
        
        <div class="form-group" style="flex: 1;">
          <label>Jumlah:</label>
          <div class="quantity-controls">
            <button class="quantity-btn" onclick="changeQuantity('${itemId}', -1)">-</button>
            <input type="number" class="quantity-input" value="1" min="1" onchange="updateItemTotal('${itemId}')">
            <button class="quantity-btn" onclick="changeQuantity('${itemId}', 1)">+</button>
          </div>
        </div>
        
        <div class="form-group" style="flex: 1;">
          <label>Subtotal:</label>
          <input type="text" class="total-input" value="IDR 0" readonly />
        </div>
      </div>
    </div>
  `;

    document.getElementById('itemsContainer').insertAdjacentHTML('beforeend', itemHtml);
    updateOrderSummary();
  }

  function removeItem(itemId) {
    const itemElement = document.getElementById(itemId);
    if (itemElement) {
      itemElement.remove();
      updateOrderSummary();
    }
  }

  function updateItemPrice(itemId) {
    const itemElement = document.getElementById(itemId);
    const select = itemElement.querySelector('select');
    const priceInput = itemElement.querySelector('.price-input');

    const selectedMenu = select.value;
    const price = hargaMenu[selectedMenu];

    priceInput.value = `IDR ${price.toLocaleString('id-ID')}`;
    updateItemTotal(itemId);
  }

  function changeQuantity(itemId, change) {
    const itemElement = document.getElementById(itemId);
    const quantityInput = itemElement.querySelector('.quantity-input');

    let currentQuantity = parseInt(quantityInput.value) || 1;
    let newQuantity = currentQuantity + change;
    if (newQuantity < 1) newQuantity = 1;

    quantityInput.value = newQuantity;
    updateItemTotal(itemId);
  }

  function updateItemTotal(itemId) {
    const itemElement = document.getElementById(itemId);
    const select = itemElement.querySelector('select');
    const quantityInput = itemElement.querySelector('.quantity-input');
    const totalInput = itemElement.querySelector('.total-input');

    const selectedMenu = select.value;
    const price = hargaMenu[selectedMenu];
    const quantity = parseInt(quantityInput.value) || 1;
    const total = price * quantity;

    totalInput.value = `IDR ${total.toLocaleString('id-ID')}`;
    updateOrderSummary();
  }

  function updateOrderSummary() {
    const items = document.querySelectorAll('.item-row');
    const summaryContent = document.getElementById('summaryContent');
    const grandTotalElement = document.getElementById('grandTotal');

    let grandTotal = 0;
    let summaryHtml = '';

    if (items.length === 0) {
      summaryHtml = '<div class="summary-item"><span>Belum ada item</span><span>IDR 0</span></div>';
    } else {
      items.forEach(item => {
        const select = item.querySelector('select');
        const quantityInput = item.querySelector('.quantity-input');
        const selectedMenu = select.value;
        const quantity = parseInt(quantityInput.value) || 1;
        const price = hargaMenu[selectedMenu];
        const subtotal = price * quantity;

        grandTotal += subtotal;
        summaryHtml += `
          <div class="summary-item">
            <span>${selectedMenu} x${quantity}</span>
            <span>IDR ${subtotal.toLocaleString('id-ID')}</span>
          </div>
        `;
      });
    }

    summaryContent.innerHTML = summaryHtml;
    grandTotalElement.textContent = `IDR ${grandTotal.toLocaleString('id-ID')}`;
  }

  function checkout() {
    const items = document.querySelectorAll('.item-row');

    if (items.length === 0) {
      alert('Tambahkan minimal 1 item untuk melanjutkan pemesanan.');
      return;
    }

    orderItems = [];
    let grandTotal = 0;

    items.forEach(item => {
      const select = item.querySelector('select');
      const quantityInput = item.querySelector('.quantity-input');
      const selectedMenu = select.value;
      const quantity = parseInt(quantityInput.value) || 1;
      const price = hargaMenu[selectedMenu];
      const subtotal = price * quantity;

      orderItems.push({
        menu: selectedMenu,
        quantity: quantity,
        price: price,
        subtotal: subtotal
      });

      grandTotal += subtotal;
    });

    let confirmationHtml = '<div class="order-details"><h4>Detail Pesanan:</h4>';
    orderItems.forEach(item => {
      confirmationHtml += `
        <p><strong>${item.menu}</strong><br>
        Jumlah: ${item.quantity} porsi @ IDR ${item.price.toLocaleString('id-ID')}<br>
        Subtotal: IDR ${item.subtotal.toLocaleString('id-ID')}</p>
      `;
    });
    confirmationHtml += `<hr><p><strong>Total Keseluruhan: IDR ${grandTotal.toLocaleString('id-ID')}</strong></p></div>`;

    document.getElementById('confirmationContent').innerHTML = confirmationHtml;
    document.getElementById('confirmationPopup').style.display = 'flex';
  }

  function confirmOrder() {
    // Pastikan orderItems terupdate sebelum confirm
    if (orderItems.length === 0) {
      alert('Tidak ada pesanan untuk dikonfirmasi.');
      return;
    }

    const orderData = {
      items: orderItems,
      total: orderItems.reduce((sum, item) => sum + item.subtotal, 0)
    };

    const params = new URLSearchParams({
      orderData: JSON.stringify(orderData)
    });

    window.location.href = `checkout.html?${params.toString()}`;
  }

  function closeConfirmation() {
    document.getElementById('confirmationPopup').style.display = 'none';
  }

  function closeOrderForm() {
    document.getElementById('orderPopup').style.display = 'none';
    document.getElementById('itemsContainer').innerHTML = '';
    itemCounter = 0;
    orderItems = [];
    updateOrderSummary();
  }

  document.getElementById("openOrderForm").onclick = function () {
    document.getElementById("orderPopup").style.display = "flex";
    if (document.querySelectorAll('.item-row').length === 0) {
      addNewItem();
    }
  };
</script>

  <script src="NK bebek.js"></script>
  <script src="tab-ulasan.js"></script>
<script src="fabmenu.js"></script>



</body>
</html>
